/*!
 * Brav1Toolbox.js - common utility scripts and polyfills
 * http://marcolago.com/
 * MIT licensed
 *
 * Copyright (C) 2012-now Marco Lago, http://marcolago.com
 */
var Brav1Toolbox=function(){function a(){return window.getComputedStyle?window.getComputedStyle(document.body):document.documentElement.style}function b(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)}function c(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)}function d(a){return""!=e(a)}function e(b){for(var c=n||a(),d=0;d<m.length;d++){var e=m[d].replace(/-/g,""),f=b;if(e.length>0&&(f=f.charAt(0).toUpperCase()+f.substr(1)),f=e+f,f in c==1)return f}return""}function f(a,b){var c=e(b);return window.getComputedStyle?window.getComputedStyle(a)[c]:a.style[c]}function g(a){return!!a&&Object.prototype.toString.call(a).match(/(\w+)\]/)[1]}function h(a,b){if(a.classList)a.classList.add(b);else if(0==j(a,b)){var c=a.className;c.length>0&&(c+=" "),a.className=c+b}}function i(a,b){if(a.classList)a.classList.remove(b);else{var c=a.className;-1!=c.indexOf(b)&&(c=-1!=c.indexOf(" "+b)?c.replace(" "+b,""):-1!=c.indexOf(b+" ")?c.replace(b+" ",""):c.replace(b,"")),a.className=c}}function j(a,b){if(a){if(a.classList)return a.classList.contains(b);if(a.className)return-1!=a.className.indexOf(b)}return!1}function k(a,b){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(a,!0,!0);for(var d in b)c[d]=b[d];document.dispatchEvent(c)}}function l(a,b){var c,d;return c=b.x-a.x,c*=c,d=b.y-a.y,d*=d,Math.abs(Math.sqrt(c+d))}var m=["","-webkit-","-moz-","-ms-","-o-"],n=a();return{addListener:b,removeListener:c,dispatchEvent:k,testCSS:d,getPrefixed:e,getCSSValue:f,typeOf:g,addClass:h,removeClass:i,hasClass:j,distance:l}}();!function(a,b){function c(b,c,g,h){b[d](f+c,"wheel"==e?g:function(b){!b&&(b=a.event);var c={originalEvent:b,target:b.target||b.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==b.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){b.preventDefault?b.preventDefault():b.returnValue=!1}};return"mousewheel"==e?(c.deltaY=-1/40*b.wheelDelta,b.wheelDeltaX&&(c.deltaX=-1/40*b.wheelDeltaX)):c.deltaY=b.detail,g(c)},h||!1)}var d,e,f="";a.addEventListener?d="addEventListener":(d="attachEvent",f="on"),e="onwheel"in b.createElement("div")?"wheel":void 0!==b.onmousewheel?"mousewheel":"DOMMouseScroll",a.addWheelListener=function(a,b,d){c(a,e,b,d),"DOMMouseScroll"==e&&c(a,"MozMousePixelScroll",b,d)}}(window,document);/*!
 * Flowtime.js
 * http://marcolago.com/flowtime-js/
 * MIT licensed
 *
 * Copyright (C) 2012-now Marco Lago, http://marcolago.com
 */
var Flowtime=function(){function a(a){if(Fb){if("A"===a.target.nodeName||"A"===a.target.parentNode.nodeName){var b=a.target.getAttribute("href")||a.target.parentNode.getAttribute("href");if("#"===b)return void a.preventDefault();if(b&&(a.target.blur(),"#"==b.substr(0,1))){a.preventDefault();var c=kc.setPage(b);w(c,!0,!0)}}if(nb){for(var d=a.target;d&&!Brav1Toolbox.hasClass(d,Ra);)d=d.parentNode;Brav1Toolbox.hasClass(d,Ra)&&(a.preventDefault(),w(d,null,!0))}if(Brav1Toolbox.hasClass(a.target,$a)){a.preventDefault();var e=Number(v(a.target.getAttribute("data-section"))),f=Number(v(a.target.getAttribute("data-page")));Y(e,f)}}}function b(a){gb=!1;var b;b=a.state?a.state.token.replace("#/",""):document.location.hash.replace("#/","");var c=kc.setPage(b);w(c,!1)}function c(a,b){if(gb||b){var c=document.location.hash.replace("#/",""),d=kc.setPage(c);w(d,!1)}}function d(a){Ab=a,Ab?(Brav1Toolbox.addListener(db,"mousedown",e,!1),Brav1Toolbox.addListener(db,"mouseup",h,!1)):(Brav1Toolbox.removeListener(db,"mousedown",e),Brav1Toolbox.removeListener(db,"mouseup",h))}function e(a){pc=0,qc=0,a=i(a),nc=a.clientX,oc=a.clientY,rc=1;var b=j();lc=b.x,mc=b.y,Ab&&Brav1Toolbox.addListener(db,"mousemove",g,!1)}function g(a){a.preventDefault(),a=i(a),pc=a.clientX-nc,qc=a.clientY-oc}function h(a){if(Eb&&(Math.abs(pc)>=tc||Math.abs(qc)>=tc))if(a=i(a),rc=0,sc=Math.abs(pc)>=Math.abs(qc)?"x":"y","x"==sc&&Math.abs(pc)>=tc){if(pc>0)return void(Rb===!0?X():V(void 0,!1));if(0>pc)return void(Rb===!0?W():U(void 0,!1))}else{if(qc>0&&Math.abs(qc)>=tc)return void(Rb===!0?V(void 0,!1):X());if(0>qc)return void(Rb===!0?U(void 0,!1):W())}Brav1Toolbox.removeListener(db,"mousemove",g)}function i(a){return a.touches&&(a=a.touches[0]),a}function j(){var a=db.style[Sb],b=a.indexOf("translateX(")+11,c=a.substring(b,a.indexOf(")",b));-1!=c.indexOf("%")?(c=c.replace("%",""),c=parseInt(c)/100*window.innerWidth):-1!=c.indexOf("px")&&(c=parseInt(c.replace("px","")));var d=a.indexOf("translateY(")+11,e=a.substring(d,a.indexOf(")",d));return-1!=e.indexOf("%")?(e=e.replace("%",""),e=parseInt(e)/100*window.innerHeight):-1!=e.indexOf("px")&&(e=parseInt(e.replace("px",""))),{x:c,y:e}}function k(a){a.preventDefault(),A()}function l(a){var b=a.target;Cb=m(b);var c=Cb===!0?!1:Bb;Kb===!1&&c===!0&&p(a)}function m(a){for(var b=!1,c=a;c.className&&c.className.indexOf("ft-page")<0;)c.scrollHeight>c.clientHeight-1&&(b=!0),c=c.parentNode;return-1!=c.className.indexOf("ft-page")&&c.scrollHeight>c.clientHeight-1&&(b=!0),b===!0&&((c.scrollHeight-c.scrollTop===c.clientHeight||0===c.scrollTop&&c.alreadyScrolled&&c.alreadyScrolled===!0)&&(b=!1),c.alreadyScrolled=!0),b}function n(){clearTimeout(Lb),Kb=!1}function o(){Lb=setTimeout(n,Mb)}function p(a){Kb=!0,o(),0===a.deltaY?a.deltaX>0?Rb===!0?W():U(void 0,a.shiftKey):a.deltaX<0&&(Rb===!0?X():V(void 0,a.shiftKey)):a.deltaY>0?Rb===!0?U(void 0,a.shiftKey):W():a.deltaY<0&&(Rb===!0?V(void 0,a.shiftKey):X())}function q(a){if(a.length>0){var b=a.replace("#/","").split("/");if(b.length>0){var c=document.querySelectorAll(Qa+"[data-prog=__"+b[0]+"]"),d=document.querySelectorAll(Qa+"[data-id=__"+b[0]+"]"),e=c.length>0?c:d,f=null,g=null;if(null!==e){for(var h=0;h<e.length&&(g=e[h],b.length>1&&(f=g.querySelector(Sa+"[data-prog=__"+b[1]+"]")||g.querySelector(Sa+"[data-id=__"+b[1]+"]")),null===f);h++);null===f&&g&&(f=g.querySelector(Sa))}return f}}}function r(a){Nb=a===!1?!1:!0;var b=kc.getCurrentPage();kc.update(),w(b,!1,!1,!1),ub===!0&&B()}function s(a){var b=jb,c=kc.getCurrentPage().getAttribute("data-title");if(null===c)for(var d=a.split("/"),e=0;e<d.length;e++)b+=" | "+d[e];else null!==kc.getCurrentSection().getAttribute("data-title")&&(b+=" | "+kc.getCurrentSection().getAttribute("data-title")),b+=" | "+c;document.title=b}function t(a){var b=a.getAttribute("data-id"),c=a.getAttribute("data-prog"),d="";return null!==b?d=b.replace(/__/,""):null!==c&&(d=c.replace(/__/,"")),d}function u(a){return"__"!=a.substr(0,2)?"__"+a:a}function v(a){return"__"==a.substr(0,2)?a.replace(/__/,""):a}function w(a,b,c,d){b=b===!1?b:!0,a||(a=null!==kc.getCurrentPage()?kc.getCurrentPage():document.querySelector(Sa),b=!0),d===!1?S():Pb===!0&&T(),y(a),Pb===!0&&T(!0),z(a),nb&&F(!1,!1);var e=kc.getHash(a);c===!0&&kc.updateFragments();var f=kc.getPageIndex(a);if(ib.section!=f.section||ib.page!=f.page)if(null!==Oa&&b!==!1&&-1===kc.getCurrentFragmentIndex()){var g={token:e},h="#/"+e;hb=h;try{window.history.pushState(g,null,hb)}catch(i){fc===!0&&console.log(i)}}else document.location.hash="/"+e;s(e),dc[f.section]=f.page,ib.section===f.section&&ib.page!==f.page&&(ec=f.page),x(),ib=f,kc.switchActivePage(a,!0),ub&&D()}function x(){if(Nb!==!1){var a=kc.getPageIndex(),b={section:kc.getCurrentSection(),page:kc.getCurrentPage(),sectionIndex:a.section,pageIndex:a.page,pastSectionIndex:ib.section,pastPageIndex:ib.page,prevSection:kc.hasPrevSection(),nextSection:kc.hasNextSection(),prevPage:kc.hasPrevPage(),nextPage:kc.hasNextPage(),fragment:kc.getCurrentFragment(),fragmentIndex:kc.getCurrentFragmentIndex(),isOverview:nb,progress:kc.getProgress(),total:kc.getPagesTotalLength(),isLoopable:tb,clickerMode:vb,isAutoplay:uc};Brav1Toolbox.dispatchEvent(cb,b),null!==gc&&gc(b)}else Nb=!0}function y(a){var b,c,d=kc.getPageIndex(a);if(rb===!0?(b=a.x,c=a.y):Rb===!0?(c=d.section,b=d.page):(b=d.section,c=d.page),cc===!0){var e=a.parentNode,f=db,g=e;Rb===!0&&(f=e,g=db),Tb?(f.style[Sb]=rb?"translateX("+-b+"px)":"translateX("+100*-b+"%)",g.style[Sb]=rb?"translateY("+-c+"px)":"translateY("+100*-c+"%)"):(f.style.left=rb?b+"px":100*-b+"%",g.style.top=rb?c+"px":100*-c+"%")}else Tb?db.style[Sb]=rb?"translateX("+-b+"px) translateY("+-c+"px)":"translateX("+100*-b+"%) translateY("+100*-c+"%)":rb?(db.style.top=-c+"px",db.style.left=-b+"px"):(db.style.top=100*-c+"%",db.style.left=100*-b+"%");A()}function z(a){if(zb)for(var b=kc.getPageIndex(a),c=kc.getParallaxElements(),d=0;d<c.length;d++){var e=c[d];if(void 0!==e)for(var f=0;f<e.length;f++){var g=e[f];if(void 0!==g)for(var h=0;h<g.length;h++){var i=g[h],j=0,k=0;b.section<d?j=i.pX:b.section>d&&(j=-i.pX),b.page<f?k=i.pY:b.page>f&&(k=-i.pY);var l="%";wb&&(l="px"),i.style[Sb]=Rb===!0?"translateX("+k+l+") translateY("+j+l+")":"translateX("+j+l+") translateY("+k+l+")"}}}}function A(){window.scrollTo(0,0)}function B(){lb&&lb.parentNode.removeChild(lb);var a=document.createDocumentFragment();lb=document.createElement("div"),lb.className=Ya+(Rb===!0?" ft-cross":""),a.appendChild(lb);for(var b=0;b<kc.getSectionsLength();b++){var c=document.createElement("div");c.setAttribute("data-section","__"+b),c.className=Za,Brav1Toolbox.addClass(c,"thumb-section-"+b);for(var d=kc.getPages(b),e=0;e<d.length;e++){var f=document.createElement("div");f.className=$a,f.setAttribute("data-section","__"+b),f.setAttribute("data-page","__"+e),Brav1Toolbox.addClass(f,"thumb-page-"+e),c.appendChild(f)}lb.appendChild(c)}fb.appendChild(lb),D()}function C(){null!==lb&&(fb.removeChild(lb),lb=null)}function D(){if(null!==lb)for(var a=lb.querySelectorAll(_a),b=0;b<a.length;b++){var c=a[b],d=Number(v(c.getAttribute("data-section"))),e=Number(v(c.getAttribute("data-page")));d==kc.getPageIndex().section&&e==kc.getPageIndex().page?Brav1Toolbox.addClass(a[b],"actual"):Brav1Toolbox.removeClass(a[b],"actual")}}function E(){return lb}function F(a,b){nb?H(a,b):(Na=kc.getCurrentPage(),I())}function G(a,b,c){nb!==a&&(nb=!a,F(b,c))}function H(a,b){nb=!1,Brav1Toolbox.removeClass(fb,"ft-overview"),kc.hideFragments(),b=b===!1?!1:!0,b===!0&&(a===!0?w(Na):w())}function I(){nb=!0,Brav1Toolbox.addClass(fb,"ft-overview"),kc.showFragments(),ob===!1?J(!0):K(!0),x()}function J(a){if(a){var b,c;Rb===!0?(c=100/kc.getSectionsLength(),b=100/kc.getPagesLength()):(b=100/kc.getSectionsLength(),c=100/kc.getPagesLength()),scale=.9*Math.min(b,c);var d=(100-kc.getSectionsLength()*scale)/2,e=(100-kc.getPagesLength()*scale)/2;db.style[Sb]="translate("+d+"%, "+e+"%) scale("+scale/100+", "+scale/100+")"}}function K(a){if(a){scale=kb;var b,c,d=kc.getPageIndex();Rb===!0?(b=50-scale*d.section-scale/2,c=50-scale*d.page-scale/2):(c=50-scale*d.section-scale/2,b=50-scale*d.page-scale/2),db.style[Sb]="translate("+c+"%, "+b+"%) scale("+scale/100+", "+scale/100+")"}}function L(a){var b=a.target.tagName;"INPUT"!=b&&"TEXTAREA"!=b&&"SELECT"!=b&&a.keyCode>=37&&a.keyCode<=40&&a.preventDefault()}function M(a){if(Db){var b=a.target.tagName;if("INPUT"!==b&&"TEXTAREA"!==b&&"SELECT"!==b)switch(a.preventDefault(),a.keyCode){case 27:F(!0);break;case 33:vb?X(a.shiftKey):_();break;case 34:vb?W(a.shiftKey):aa();break;case 35:$();break;case 36:Z();break;case 37:Rb===!0?X(a.shiftKey):V(null,a.shiftKey);break;case 39:Rb===!0?W(a.shiftKey):U(null,a.shiftKey);break;case 38:Rb===!0?V(null,a.shiftKey):X(a.shiftKey);break;case 40:Rb===!0?U(null,a.shiftKey):W(a.shiftKey);break;case 13:nb&&Y(kc.getCurrentHilited())}}}function N(a,b,c,d){wc=isNaN(parseInt(b))?wc:b,xc=d===!0||!1,a===!0&&c!==!1&&O()}function O(){uc=!0,clearTimeout(vc),yc=Date.now(),vc=setTimeout(function(){W(xc),O()},wc-zc),zc=0}function P(){uc=!1,zc=Date.now()-yc,clearTimeout(vc)}function Q(){uc=!1,clearTimeout(vc),yc=0,zc=0}function R(){ub&&null===lb&&B(),document.location.hash.length>0?(S(!0),c(null,!0)):R.arguments.length>0?Y.apply(this,R.arguments):(Y(0,0),D())}function S(a){Pb=!0,db.style[Brav1Toolbox.getPrefixed("transition-duration")]="0ms",a===!0&&setTimeout(T,Qb)}function T(a){Pb=!1,a===!0?setTimeout(function(){db.style[Brav1Toolbox.getPrefixed("transition-duration")]=""+Qb/1e3+"s"},Qb):db.style[Brav1Toolbox.getPrefixed("transition-duration")]=""+Qb/1e3+"s"}function U(a,b){if(Hb===!0){a=null!==a?a:Zb,b===!0&&(a=!Zb);var c=kc.getNextSection(a,pb);void 0!==c?w(c):nb&&ob&&I()}}function V(a,b){if(Gb===!0){a=null!==a?a:Zb,b===!0&&(a=!Zb);var c=kc.getPrevSection(a,pb);void 0!==c?w(c):nb&&ob&&I()}}function W(a){if(Jb===!0){var b=kc.getNextPage(a);if(b===!1)return;void 0!==b?w(b):nb&&ob&&I()}}function X(a){if(Ib===!0){var b=kc.getPrevPage(a);if(b===!1)return;void 0!==b?w(b):nb&&ob&&I()}}function Y(){var a=Y.arguments;if(a.length>0){var b=null;if(1==a.length)if("Object"===Brav1Toolbox.typeOf(a[0])){var c=a[0],d=c.section,e=c.page;if(null!==d&&void 0!==d){var f=document.querySelector(Qa+"[data-id="+u(d)+"]");if(null!==e&&void 0!==e&&(b=f.querySelector(Sa+"[data-id="+u(e)+"]"),null!==b))return void w(b)}}else void 0!==a[0].nodeName&&w(a[0],null,!0);if("Number"===Brav1Toolbox.typeOf(a[0])||0===a[0])return b=kc.getPageByIndex(a[1],a[0]),void w(b)}}function Z(){Y(0,0)}function $(){var a=kc.getSectionsLength()-1;Y(a,kc.getPages(a).length-1)}function _(){if(Ib===!0){var a=kc.getPageIndex();Y(a.section,0)}}function aa(){if(Jb===!0){var a=kc.getPageIndex();Y(a.section,kc.getPages(a.section).length-1)}}function ba(a,b,c){Brav1Toolbox.addListener(document,a,b,c)}function ca(a){pb=a===!0?!0:!1,da(a)}function da(a){qb=a===!0?!0:!1}function ea(a){Oa=a===!0?!0:!1}function fa(a){rb=a===!0?!0:!1,rb===!0&&kc.updateOffsets(),w()}function ga(a){$b=a===!0?!0:!1}function ha(a){_b=a===!0?!0:!1}function ia(a){Zb=a===!0?!1:!0}function ja(a){ob=a===!0?!0:!1}function ka(a){sb=a===!0?!0:!1}function la(a){ub=a===!0?!0:!1,ub?(null===lb&&B(),D()):null!==lb&&C()}function ma(a,b){xb=a,yb=void 0===b?xb:b,kc.update()}function na(a){wb=a===!0?!0:!1}function oa(){return kc.getPageIndex().section}function pa(){return kc.getPageIndex().page}function qa(a){tb=a===!0?!0:!1}function ra(a){vb=a===!0?!0:!1}function sa(a,b,c,d){Fb=a===!1?!1:!0,Db=b===!1?!1:!0,Bb=c===!1?!1:!0,Eb=d===!1?!1:!0}function ta(a,b,c,d){Fb=a===!1?!0:!1,Db=b===!1?!0:!1,Bb=c===!1?!0:!1,Eb=d===!1?!0:!1}function ua(a,b){Gb=a===!1?!1:!0,Hb=b===!1?!1:!0}function va(a,b){Gb=a===!1?!0:!1,Hb=b===!1?!0:!1}function wa(a,b){Ib=a===!1?!1:!0,Jb=b===!1?!1:!0}function xa(a,b){Ib=a===!1?!0:!1,Jb=b===!1?!0:!1}function ya(a){Fb=a===!1?!1:!0}function za(a){Db=a===!1?!1:!0}function Aa(a){Bb=a===!1?!1:!0}function Ba(a){Eb=a===!1?!1:!0}function Ca(a){Rb!==a&&(Rb=a===!0?!0:!1,Brav1Toolbox.hasClass(db,ab)||Rb!==!0?Brav1Toolbox.hasClass(db,ab)&&Rb!==!0&&Brav1Toolbox.removeClass(db,ab):Brav1Toolbox.addClass(db,ab),lb&&(Brav1Toolbox.hasClass(lb,ab)||Rb!==!0?Brav1Toolbox.hasClass(lb,ab)&&Rb!==!0&&Brav1Toolbox.removeClass(lb,ab):Brav1Toolbox.addClass(lb,ab)),kc.updateOffsets(),w())}function Da(a){cc!==a&&(cc=a===!0?!0:!1,Brav1Toolbox.hasClass(db,bb)||cc!==!0?Brav1Toolbox.hasClass(db,bb)&&cc!==!0&&Brav1Toolbox.removeClass(db,bb):Brav1Toolbox.addClass(db,bb),kc.updateOffsets(),w())}function Ea(a){Ob=a}function Fa(a){Qb=a,db.style[Brav1Toolbox.getPrefixed("transition-duration")]=""+Qb+"ms"}function Ga(){return Qb}function Ha(a){Mb=a}function Ia(a){gc=a}function Ja(a){ac=a===!0?!0:!1}function Ka(a){bc=a===!0?!0:!1}function La(a){Ub=a===!1?!1:!0}var Ma=!1;("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(Ma=!0);var Na,Oa=window.history.pushState,Pa="ft-section",Qa="."+Pa,Ra="ft-page",Sa="."+Ra,Ta="ft-fragment",Ua="."+Ta,Va="revealed",Wa="actual",Xa="revealed-temp",Ya="ft-default-progress",Za="ft-section-thumb",$a="ft-page-thumb",_a="."+$a,ab="ft-cross",bb="ft-scroll-the-section",cb="flowtimenavigation",db=document.querySelector(".flowtime"),eb=db.parentNode,fb=(document.querySelector("html"),document.querySelector("body")),gb=!1,hb="",ib={section:0,page:0},jb=document.title,kb=22,lb=null,mb=0,nb=!1,ob=!1,pb=!1,qb=!0,rb=!1,sb=!1,tb=!1,ub=!1,vb=!1,wb=!1,xb=50,yb=50,zb=null!==document.querySelector(".parallax"),Ab=!1,Bb=!0,Cb=!0,Db=!0,Eb=!0,Fb=!0,Gb=!0,Hb=!0,Ib=!0,Jb=!0,Kb=!1,Lb=0,Mb=2e3,Nb=!0,Ob=1e3,Pb=!1,Qb=500,Rb=Brav1Toolbox.hasClass(db,ab),Sb=Brav1Toolbox.getPrefixed("transform"),Tb=Brav1Toolbox.testCSS("transform"),Ub=!0,Vb=0,Wb=0,Xb=0,Yb=0,Zb=!1,$b=!1,_b=!1,ac=!1,bc=!1,cc=Brav1Toolbox.hasClass(db,bb),dc=[],ec=0,fc=!1,gc=null;!function(){var a=Brav1Toolbox.getCSSValue(db,"transitionDuration"),b=parseFloat(a),c=a.replace(""+b,"");!isNaN(b)&&b>0&&("s"===c?Qb=1e3*b:"ms"===c&&(Qb=b)),Fa(Qb),Mb=4*Qb}();var hc=!0;try{var ic=document.querySelector("html").className.toLowerCase();(-1!=ic.indexOf("ie7")||-1!=ic.indexOf("ie8")||-1!=ic.indexOf("lt-ie9"))&&(hc=!1)}catch(jc){hc=!1}hc&&Brav1Toolbox.addClass(eb,"ft-absolute-nav"),window.onload=function(){kc.updateOffsets()};var kc=function(){function a(){_=[],fa=[],ba=document.querySelectorAll(Ua),ca=[],$=db.querySelectorAll(".flowtime > "+Qa),aa=db.querySelectorAll(".flowtime "+Sa);for(var a=0;a<$.length;a++){var c=[];ca[a]=[],ea[a]=[],mb+=1;var e=$[a];e.getAttribute("data-id")?e.setAttribute("data-id","__"+v(e.getAttribute("data-id"))):e.setAttribute("data-id","__"+mb),e.getAttribute("data-prog")?e.setAttribute("data-prog","__"+v(e.getAttribute("data-prog"))):e.setAttribute("data-prog","__"+mb),e.index=a,pages=e.querySelectorAll(Sa),ia+=pages.length,ha=Math.max(ha,pages.length);for(var f=0;f<pages.length;f++){var g=pages[f];if(g.getAttribute("data-id")?g.setAttribute("data-id","__"+v(g.getAttribute("data-id"))):g.setAttribute("data-id","__"+(f+1)),g.getAttribute("data-prog")?g.setAttribute("data-prog","__"+v(g.getAttribute("data-prog"))):g.setAttribute("data-prog","__"+(f+1)),g.index=f,!g.getAttribute("data-title")){var h=g.querySelector("h1");null!==h&&""!==h.textContent.lenght&&g.setAttribute("data-title",h.textContent)}b(g,a,f),c.push(g);var i=g.querySelectorAll(Ua);ca[a][f]=i,ea[a][f]=-1}_.push(c)}ga=$.length,A(),d()}function b(a,b,c){if(zb){void 0===fa[b]&&(fa[b]=[]),void 0===fa[b][c]&&(fa[b][c]=[]);var d=a.querySelectorAll(".parallax");if(d.length>0)for(var e=0;e<d.length;e++){var f=d[e],g=xb,h=yb;if(null!==f.getAttribute("data-parallax")){var i=f.getAttribute("data-parallax").split(",");g=h=i[0],i.length>1&&(h=i[1])}f.pX=g,f.pY=h,fa[b][c].push(f)}}}function c(){return fa}function d(){Vb=db.offsetLeft,Wb=db.offsetTop;for(var a=0;a<aa.length;a++){var b=aa[a],c=b.offsetParent;0===a&&(Xb=b.offsetLeft-Vb,Yb=b.offsetTop-Wb),Rb===!0?(b.x=b.offsetLeft-(Vb+Xb),b.y=c.offsetTop):(b.x=c.offsetLeft,b.y=b.offsetTop-(Wb+Yb))}}function e(a,b){var c=ka,d=nb===!0?!1:a;if(!(b===!0&&ca[ja][ka].length>0&&ea[ja][ka]<ca[ja][ka].length-1&&d!==!0&&io===!1)){c=0,d===!0&&ja+1<=_.length-1?c=0:(d!==!0||qb===!0||ja+1>_.length-1)&&(c=ka);var e=Math.min(ja+1,_.length-1);return ja=tb===!0&&e===ja?0:e,nb||(ac===!0&&void 0!==dc[ja]&&(c=dc[ja]),bc===!0&&(c=ec)),h(_[ja],c)}return l(ja,ka),k(_[ja][ka])}function g(a,b){var c=ka,d=nb===!0?!1:a;if(!(b===!0&&ca[ja][ka].length>0&&ea[ja][ka]>=0&&d!==!0&&nb===!1)){c=0,d===!0&&ja-1>=0?c=0:(d!==!0||qb===!0||0>ja-1)&&(c=ka);var e=Math.max(ja-1,0);return ja=tb===!0&&e===ja?_.length-1:e,nb||(ac===!0&&dc[ja]>=0&&(c=dc[ja]),bc===!0&&(c=ec)),h(_[ja],c)}return m(ja,ka),k(_[ja][ka])}function h(a,b){var c=a[b];if(void 0===c)if(_b===!0)c=a[0],b=0;else for(var d=b;d>=0;d--)if(void 0!==a[d]){c=a[d],b=d;break}return ka=b,nb||p(),k(c)}function i(a){if(ca[ja][ka].length>0&&ea[ja][ka]<ca[ja][ka].length-1&&a!==!0&&nb===!1)l(ja,ka);else if(void 0===_[ja][ka+1]){if(Ub===!1)return!1;void 0!==_[ja+1]?(ja+=1,ka=0):void 0===_[ja+1]&&tb===!0&&(ja=0,ka=0)}else ka=Math.min(ka+1,_[ja].length-1);return k(_[ja][ka])}function j(a){if(ca[ja][ka].length>0&&ea[ja][ka]>=0&&a!==!0&&nb===!1)m(ja,ka);else if(0===ka){if(Ub===!1)return!1;void 0!==_[ja-1]?(ja-=1,ka=$b===!0?0:_[ja].length-1):void 0===_[ja-1]&&tb===!0&&(ja=_.length-1,ka=$b===!0?0:_[ja].length-1)}else ka=Math.max(ka-1,0);return k(_[ja][ka])}function k(a){return nb===!0?void X(a):a}function l(a,b,c){void 0!==c?ea[a][b]=c:c=ea[a][b]+=1;for(var d=0;c>=d;d++)Brav1Toolbox.addClass(ca[a][b][d],Va),Brav1Toolbox.removeClass(ca[a][b][d],Wa);Brav1Toolbox.addClass(ca[a][b][c],Wa)}function m(a,b,c){void 0!==c?ea[a][b]=c:c=ea[a][b];for(var d=0;d<ca[a][b].length;d++)d>=c&&(Brav1Toolbox.removeClass(ca[a][b][d],Va),Brav1Toolbox.removeClass(ca[a][b][d],Xa)),Brav1Toolbox.removeClass(ca[a][b][d],Wa);c-=1,c>=0&&Brav1Toolbox.addClass(ca[a][b][c],Wa),ea[a][b]=c}function n(){for(var a=0;a<ba.length;a++)Brav1Toolbox.addClass(ba[a],Xa)}function o(){for(var a=0;a<ba.length;a++)Brav1Toolbox.removeClass(ba[a],Xa)}function p(){for(var a=0;a<ca.length;a++)for(var b=ca[a],c=0;c<b.length;c++){var d=b[c];if(d.length>0)if(a>ja)for(f=d.length-1;f>=0;f--)m(a,c,f);else if(ja>a)for(f=0;f<d.length;f++)l(a,c,f);else if(a==ja)if(c>ka)for(f=d.length-1;f>=0;f--)m(a,c,f);else if(ka>c)for(f=0;f<d.length;f++)l(a,c,f);else if(c==ka){if(qb===!0&&(ib.section>kc.getPageIndex().section||ib.page>kc.getPageIndex().page))for(f=0;f<d.length;f++)l(a,c,f);else for(f=d.length-1;f>=0;f--)m(a,c,f);ea[a][c]=qb===!1?-1:ib.section>kc.getPageIndex().section||ib.page>kc.getPageIndex().page?d.length-1:-1}}}function r(a){return ja}function s(a){return ka}function u(){return $}function w(a){return _[a]}function x(){return aa}function y(a){return _[a].length}function z(){return ga}function B(){return ha}function C(){return ia}function D(a){var b=ja,c=ka;return void 0!==a&&(b=a.parentNode.index,c=a.index),{section:b,page:c}}function E(a){return $[a]}function F(a,b){return _[b][a]}function G(){return $[ja]}function H(){return _[ja][ka]}function I(){var a=ja-1;if(0>a){if(tb!==!0)return null;a=_.length-1}return a}function J(){var a=I();return null===a?null:$[a]}function K(){var a=ka-1;if(0>a){if(0===ja&&tb){var b=_.length-1;return _[b][_[b].length-1]}return ja>0?_[ja-1][_[ja-1].length-1]:null}return _[ja][a]}function L(){var a=ja+1;if(a>_.length-1){if(tb!==!0)return null;a=0}return a}function M(){var a=L();return null===a?null:$[a]}function N(){var a=ka+1;return a>_[ja].length-1?ja===_.length-1&&tb?_[0][0]:ja<_.length-1?_[ja+1][0]:null:_[ja][a]}function O(){return ca[ja][ka][P()]}function P(){return ea[ja][ka]}function Q(){return ja<$.length-1}function R(){return ja>0}function S(){return ka<_[ja].length-1}function T(){return ka>0}function U(){if(0===ja&&0===ka)return 0;for(var a=0,b=0;ja>b;b++)a+=_[b].length;return a+=_[ja][ka].index+1}function V(a){a&&(ka=D(a).page,ja=D(a).section);var b="",c=$[ja];if(b+=t(c),_[ja].length>0){var d=_[ja][ka];b+="/"+t(d)}return b}function W(a){var b=q(a);if(b){for(var c=b.parentNode,d=0;d<_.length;d++){var e=_[d];if($[d]===c){ja=d;for(var f=0;f<e.length;f++)if(e[f]===b){ka=f;break}}}p()}return b}function X(a,b){for(var c=a.parentNode.index,d=0;d<_.length;d++)for(var e=_[d],f=0;f<e.length;f++){var g=e[f];Brav1Toolbox.removeClass(g,"past-section"),Brav1Toolbox.removeClass(g,"future-section"),Brav1Toolbox.removeClass(g,"past-page"),Brav1Toolbox.removeClass(g,"future-page"),g!==a&&(Brav1Toolbox.removeClass(g,"hilite"),nb===!1&&g!==H()&&Brav1Toolbox.removeClass(g,"actual"),c>d?Brav1Toolbox.addClass(g,"past-section"):d>c&&Brav1Toolbox.addClass(g,"future-section"),g.index<a.index?Brav1Toolbox.addClass(g,"past-page"):g.index>a.index&&Brav1Toolbox.addClass(g,"future-page"))}Brav1Toolbox.addClass(a,"hilite"),b&&Z(a),da=a}function Y(){return da}function Z(a){Brav1Toolbox.addClass(a,"actual")}var $,_,aa,ba,ca,da,ea=[],fa=[],ga=0,ha=0,ia=0,ja=0,ka=0;return a(),{update:a,updateFragments:p,showFragments:n,hideFragments:o,getSection:r,getPage:s,getSections:u,getPages:w,getAllPages:x,getNextSection:e,getPrevSection:g,getNextPage:i,getPrevPage:j,getSectionLength:y,getSectionsLength:z,getPagesLength:B,getPagesTotalLength:C,getPageIndex:D,getSectionByIndex:E,getPageByIndex:F,getCurrentSection:G,getCurrentPage:H,getPrevSectionObject:J,getPrevPageObject:K,getNextSectionObject:M,getNextPageObject:N,getCurrentFragment:O,getCurrentFragmentIndex:P,getProgress:U,getHash:V,setPage:W,switchActivePage:X,getCurrentHilited:Y,hasNextSection:Q,hasPrevSection:R,hasNextPage:S,hasPrevPage:T,updateOffsets:d,getParallaxElements:c}}();hc&&(Ma&&Brav1Toolbox.addListener(document,"touchend",function(b){a(b)},!1),Brav1Toolbox.addListener(document,"click",a,!1)),gb===!1&&window.history.pushState?window.onpopstate=b:gb=!0,Brav1Toolbox.addListener(window,"hashchange",c);var lc=db.offsetX,mc=0,nc=0,oc=0,pc=0,qc=0,rc=0,sc="x",tc=100;Ma&&(db.addEventListener("touchstart",e,!1),db.addEventListener("touchmove",g,!1),db.addEventListener("touchend",h,!1)),Brav1Toolbox.addListener(window,"scroll",k),addWheelListener(db,l);!function(){function a(){b(),nb||(d=setTimeout(c,300))}function b(){clearTimeout(d)}function c(){kc.updateOffsets(),w()}var d=0/0;return Brav1Toolbox.addListener(window,"resize",a),window.addEventListener("orientationchange",a,!1),{enable:a,disable:b}}();Brav1Toolbox.addListener(window,"keydown",L),Brav1Toolbox.addListener(window,"keyup",M);var uc=!1,vc=0,wc=1e4,xc=!1,yc=0,zc=0;return{start:R,updateNavigation:r,nextSection:U,prevSection:V,next:W,prev:X,nextFragment:W,prevFragment:X,gotoPage:Y,gotoHome:Z,gotoTop:_,gotoBottom:aa,gotoEnd:$,toggleOverview:F,showOverview:G,fragmentsOnSide:ca,fragmentsOnBack:da,useHistory:ea,slideInPx:fa,useOverviewVariant:ja,twoStepsSlide:ka,showProgress:la,defaultParallaxValues:ma,parallaxInPx:na,addEventListener:ba,getDefaultProgress:E,getSection:kc.getCurrentSection,getPage:kc.getCurrentPage,getSectionIndex:oa,getPageIndex:pa,getPrevSection:kc.getPrevSectionObject,getNextSection:kc.getNextSectionObject,getPrevPage:kc.getPrevPageObject,getNextPage:kc.getNextPageObject,autoplay:N,play:O,pause:P,stop:Q,loop:qa,clicker:ra,mouseDragEnabled:d,enableNavigation:sa,disableNavigation:ta,enableSectionNavigation:ua,disableSectionNavigation:va,enablePageNavigation:wa,disablePageNavigation:xa,setLinksNavigation:ya,setKeyboardNavigation:za,setScrollNavigation:Aa,setTouchNavigation:Ba,setCrossDirection:Ca,setDebouncingDelay:Ea,setTransitionTime:Fa,setMomentumScrollDelay:Ha,getTransitionTime:Ga,onNavigation:Ia,gridNavigation:ia,backFromPageToTop:ga,nearestPageToTop:ha,rememberSectionsStatus:Ja,rememberSectionsLastPage:Ka,scrollTheSection:Da,toSectionsFromPages:La}}();